<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dein Barber</title>

<link rel="stylesheet" href="style.css">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

<!-- Calendly -->
<link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet">
<script src="https://assets.calendly.com/assets/external/widget.js"></script>
</head>
<body>

<!-- HERO -->
<section class="hero">
  <div class="hero-overlay"></div>
  <div class="hero-content">
    <h1>Dein Barber. Dein Style.</h1>
    <p>Buche online oder erhalte Erinnerungen bequem per WhatsApp & E-Mail.</p>
    <button onclick="Calendly.initPopupWidget({ url: 'https://calendly.com/tamer-kumaru/new-meeting' });">
      Termin buchen
    </button>
  </div>
</section>

<!-- SERVICES -->
<section class="services">
  <h2>Wähle deinen Service</h2>
  <div class="services-grid">
    <div class="service-card" onclick="selectService('Haarschnitt')">
      <i class="fas fa-cut service-icon"></i>
      <h3>Herrenhaarschnitt</h3>
      <p>Modern & präzise</p>
    </div>
    <div class="service-card" onclick="selectService('Färben')">
      <i class="fas fa-paint-roller service-icon"></i>
      <h3>Färben</h3>
      <p>Farbe nach Wunsch</p>
    </div>
    <div class="service-card" onclick="selectService('Bartpflege')">
      <i class="fas fa-beard service-icon"></i>
      <h3>Bart & Kontur</h3>
      <p>Perfekte Linien</p>
    </div>
    <div class="service-card" onclick="selectService('Styling')">
      <i class="fas fa-spa service-icon"></i>
      <h3>Styling & Finish</h3>
      <p>Für den perfekten Look</p>
    </div>
  </div>
</section>

<!-- CTA -->
<section class="cta">
  <h2>Bereit für deinen perfekten Look?</h2>
  <div class="cta-actions">
    <button onclick="Calendly.initPopupWidget({ url: 'https://calendly.com/tamer-kumaru/new-meeting' });">
      Termin buchen
    </button>
    <a id="whatsappLink" href="#" target="_blank" class="whatsapp-btn">
      <i class="fab fa-whatsapp"></i>
      WhatsApp Erinnerung
    </a>
  </div>
  <p class="cta-note">Erinnerungen erfolgen automatisch per WhatsApp & E-Mail</p>
</section>

<!-- LIVE VORSCHAU MIT DROPDOWN -->
<section class="preview">
  <h2>Live-Vorschau deiner Nachricht</h2>
  <div class="service-select">
    <label for="serviceDropdown">Service auswählen:</label>
    <select id="serviceDropdown" onchange="updatePreview()">
      <option value="">-- Wähle deinen Service --</option>
      <option value="Haarschnitt">Herrenhaarschnitt</option>
      <option value="Färben">Färben</option>
      <option value="Bartpflege">Bartpflege</option>
      <option value="Styling">Styling & Finish</option>
    </select>
  </div>
  <div id="messagePreview" class="message-preview">
    Bitte wähle zuerst einen Service, um die Nachricht zu sehen.
  </div>
</section>

<!-- EMAIL REMINDER -->
<section class="email-reminder">
  <div class="email-card">
    <h2>E-Mail Erinnerung aktivieren</h2>
    <p>Erhalte automatisch eine Erinnerungs-E-Mail <strong>24 Stunden vor deinem Termin</strong> inklusive Produktempfehlungen.</p>

    <form class="email-form" onsubmit="activateEmailReminder(event)">
      <input type="email" id="emailInput" placeholder="Deine E-Mail-Adresse" required>
      <button type="submit">Erinnerung aktivieren</button>
    </form>

    <div class="email-success" id="emailSuccess">✓ E-Mail-Erinnerung aktiviert</div>

    <div class="email-timeline">
      <span class="active">Heute</span>
      <span>24h vorher</span>
      <span>Termin</span>
    </div>

    <div class="recommended-products" id="recommendedProducts" style="margin-top:20px; font-weight:600; color:#25D366;"></div>
  </div>
</section>

<!-- PRODUCTS -->
<section class="products">
  <h2>Unsere Produkte</h2>
  <div class="products-grid">
    <div class="product-card">
      <img src="assets/arthur-humeau-Twd3yaqA2NM-unsplash.jpg">
      <h4>Premium Shampoo</h4>
      <p>Im Salon erhältlich</p>
    </div>
    <div class="product-card">
      <img src="assets/agustin-fernandez-1Pmp9uxK8X8-unsplash.jpg">
      <h4>Styling Pomade</h4>
      <p>Im Salon erhältlich</p>
    </div>
    <div class="product-card">
      <img src="assets/apothecary-87-Wg3J83R1YSQ-unsplash.jpg">
      <h4>Pflegeprodukte</h4>
      <p>Im Salon erhältlich</p>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer class="footer">
  <div class="footer-grid">
    <div>
      <h4>Dein Barber</h4>
      <p>Premium Herrenfriseur für moderne Styles.</p>
    </div>
    <div>
      <h4>Öffnungszeiten</h4>
      <p>Mo–Fr 09–19 Uhr<br>Sa 09–16 Uhr</p>
    </div>
    <div>
      <h4>Kontakt</h4>
      <p>Termin & WhatsApp online</p>
    </div>
  </div>
  <div class="footer-bottom">© 2025 Dein Barber</div>
</footer>

<!-- FLOATING WHATSAPP -->
<a href="#" id="floatingWhatsApp" class="whatsapp-float" target="_blank">
  <i class="fab fa-whatsapp"></i>
</a>

<!-- JS -->
<script>
let selectedService = "Haarschnitt"; // Standard-Service
const productMap = {
  "Haarschnitt": "Styling Pomade, Leave-in Conditioner, Bartöl",
  "Färben": "Color-Schutz Shampoo, Farbschutz Maske, Hitzeschutzspray",
  "Bartpflege": "Bartöl, Bartbalsam, Bartshampoo",
  "Styling": "Styling Cream, Haarspray, Texturizing Spray"
};

function updateWhatsAppLink() {
  const text = `Hallo Dein Barber, ich habe Service: ${selectedService} gebucht. Bitte sende mir eine Erinnerung 24h vorher. Empfohlene Produkte: ${productMap[selectedService]}`;
  const encodedText = encodeURIComponent(text);
  const waNumber = "491717439527"; // Deine Nummer hier
  document.getElementById("whatsappLink").href = `https://wa.me/${waNumber}?text=${encodedText}`;
  document.getElementById("floatingWhatsApp").href = `https://wa.me/${waNumber}?text=${encodedText}`;
}

function updatePreview() {
  const dropdown = document.getElementById("serviceDropdown");
  const service = dropdown.value || "Haarschnitt";
  selectedService = service;

  const text = `Hallo Dein Barber, ich habe Service: ${service} gebucht. Bitte sende mir eine Erinnerung 24h vorher. Empfohlene Produkte: ${productMap[service]}`;
  document.getElementById("messagePreview").innerText = text;
  document.getElementById("recommendedProducts").innerText = `Empfohlene Produkte für ${service}: ${productMap[service]}`;
  
  updateWhatsAppLink();
}

function selectService(service){
  document.getElementById("serviceDropdown").value = service;
  updatePreview();
}

function activateEmailReminder(e){
  e.preventDefault();
  const email = document.getElementById("emailInput").value;
  if(!email) return alert("Bitte wähle zuerst einen Service.");
  document.getElementById("emailSuccess").style.display = "block";

  const timeline = document.querySelectorAll(".email-timeline span");
  timeline[1].classList.add("active");
  setTimeout(()=>timeline[2].classList.add("active"),1000);

  localStorage.setItem("emailReminder", JSON.stringify({email, service:selectedService}));
}

document.addEventListener("DOMContentLoaded", () => {
  document.getElementById("serviceDropdown").value = selectedService;
  updatePreview();

  document.querySelectorAll("section").forEach(section=>{
    new IntersectionObserver(entries=>{
      entries.forEach(entry=>{if(entry.isIntersecting) entry.target.classList.add("visible");});
    },{threshold:0.2}).observe(section);
  });
});
</script>
</body>
</html>
